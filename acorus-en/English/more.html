<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Additional features of AcorusDemo :: The Acorus project</title>
    <link rel="canonical" href="https://stephengold.github.io/Acorus/acorus-en/English/more.html">
    <link rel="prev" href="toggle.html">
    <link rel="next" href="sandbox.html">
    <meta name="generator" content="Antora 3.1.7">
    <link rel="stylesheet" href="../../_/css/site.css">
<meta property="og:image" content="../../_/img/iconx128.png">
<meta property="og:description" content="Additional features of AcorusDemo">
<meta property="og:title" content="The Acorus project">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://stephengold.github.io/Acorus">
        <img alt="" src="../../_/img/iconx128.png" width="32" type="image/x-icon" style="margin-right:16px">
        The Acorus project
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Color themes</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" onclick="setTheme('canyon')">Canyon</a>
            <a class="navbar-item" onclick="setTheme('dark')">Dark</a>
            <a class="navbar-item" onclick="setTheme('jungle')">Jungle</a>
            <a class="navbar-item" onclick="setTheme('light')">Light</a>
            <a class="navbar-item" onclick="setTheme('pastel')">Pastel</a>
            <a class="navbar-item" onclick="setTheme('phosphor')">Phosphor<a>
            <a class="navbar-item" style="padding-top: 5px;padding-left: 1px;padding-right: 1px;"></button>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="acorus-en" data-version="English">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="overview.html">Project links</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Library tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="add.html">Add to existing project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="hello.html">Getting started</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bind.html">Binding hotkeys</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="signal.html">Signals</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="combo.html">Combos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mimic.html">Mimic a simple app</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="toggle.html">Toggle the help node</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="more.html">More features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sandbox.html">The Sandbox</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camera.html">Controlling cameras</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="modes.html">Input modes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dsedit.html">Display settings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="headless.html">Headless apps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="build.html">Build procedures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="https://github.com/stephengold/Acorus">Git repository</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Acorus/releases/latest">Latest release</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Acorus/releases">Recent releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Acorus/blob/master/README.md">ReadMe file</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://raw.githubusercontent.com/stephengold/Acorus/master/LICENSE">License</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Acorus/blob/master/AcorusLibrary/release-notes.md">Release log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Acorus/commits/master">Recent commits</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Acorus/issues">Issue tracker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Acorus/issues/new">Report an issue</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Library APIs (javadoc)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Acorus/javadoc/master">"master" branch</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Acorus at other sites</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://repo1.maven.org/maven2/com/github/stephengold/Acorus">Maven Central download</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://central.sonatype.com/search?q=Acorus&amp;namespace=com.github.stephengold">Maven Central search</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jitpack.io/#stephengold/Acorus">JitPack (unofficial)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Projects using Acorus</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/FuzeCreek">FuzeCreek</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Garrett">Garrett</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Heart">Heart</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/jme3-maze">Jme3-maze</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/jme3-utilities">Jme3-utilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/jme-vehicles">More Advanced Vehicles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Maud">Maud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/Minie">Minie</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io/MonkeyWrench">MonkeyWrench</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/RyzomDemos">RyzomDemos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/SkyControl">SkyControl</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Wes">Wes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Other related projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Heart">Heart</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jmonkeyengine.org">JMonkeyEngine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/antora-ui-bundle">Website UI bundle</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">People</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://stephengold.github.io">Stephen Gold</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Acorus project</span>
    <span class="version">English</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">The Acorus project</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="overview.html">English</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle-label">Project links</span>
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="overview.html">The Acorus project</a></li>
    <li>Library tutorials</li>
    <li><a href="more.html">More features</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/stephengold/Acorus/edit/master/docs/en/modules/ROOT/pages/more.adoc">Edit this page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Additional features of AcorusDemo</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/stephengold/Acorus/blob/master/AcorusExamples/src/main/java/jme3utilities/ui/test/TestAcorusDemo.java">TestAcorusDemo</a> is a test application
that demonstrates more built-in features of <code>AcorusDemo</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>display text on a solid background using an <em>overlay</em></p>
</li>
<li>
<p>add world axes to a scene and toggle their visibility</p>
</li>
<li>
<p>pause animations and physics without disabling camera motion</p>
</li>
<li>
<p>scale a model to a specified height</p>
</li>
<li>
<p>translate a 3-D model so it rests on the X-Z plane,
with its center on the Y axis</p>
</li>
<li>
<p>select among possible values, as in a menu</p>
</li>
<li>
<p>store materials in a "library" and retrieve them by name</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_display_text_on_a_solid_background"><a class="anchor" href="#_display_text_on_a_solid_background"></a>Display text on a solid background</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An overlay is a rounded rectangle with a solid background color,
used to display multiple lines of text.</p>
</div>
<div class="paragraph">
<p>The concrete <code>Overlay</code> class is a subtype of <code>BaseAppState</code>
and inherits its life-cycle hooks:</p>
</div>
<div class="paragraph">
<p>+ <code>stateAttached(AppStateManager)</code>
+ <code>update(float)</code>
+ <code>render(RenderManager)</code>
+ <code>postRender()</code>
+ <code>stateDetached(AppStateManager)</code></p>
</div>
<div class="paragraph">
<p>Unlike most appstates, overlays are initially disabled.
So at a minimum, you need to instantiate the overlay,
attach it to your application, and enable it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Overlay overlay = new Overlay(idString, widthPixels, numStatusLines);
stateManager.attach(overlay);
overlay.setEnabled(true);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Be default, overlays are set in from the upper-left corner of the GUI viewport.
However, you can alter the location policy
using <code>overlay.setLocationPolicy(newPolicy)</code>.</p>
</div>
<div class="paragraph">
<p>If the policy is anything other than <code>LowerLeft</code>
and the viewport is resizable,
you should ensure the overlay&#8217;s location gets updated on every resize:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void onViewPortResize(int newWidth, int newHeight) {
    super.onViewPortResize(newWidth, newHeight);
    overlay.onViewPortResize(newWidth, newHeight);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, overlay text is white and left-aligned on a black background.
However, you can alter these properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">overlay.setColor(lineIndex, textColor);
overlay.setAlignmentAll(globalAlignment);
overlay.setAlignment(lineIndex, alignment2);
overlay.setBackgroundColor(newColor);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_world_axes"><a class="anchor" href="#_world_axes"></a>World axes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The world axes are 3 arrows (red for +X, green for +Y, and blue for +Z)
whose tails spring from the world origin (0,0,0).</p>
</div>
<div class="paragraph">
<p>By default, the axes are invisible.
However, it&#8217;s often helpful to visualize these axes&#8201;&#8212;&#8201;during a demo, for instance, or while debugging.</p>
</div>
<div class="paragraph">
<p><code>AcorusDemo</code> lays the groundwork so that an application can easily bind a hotkey
that empowers the user to toggle visibility of the axes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void moreDefaultBindings() {
    InputMode dim = getDefaultInputMode();
    dim.bind(asToggleWorldAxes, KeyInput.KEY_SPACE);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pausing_animations"><a class="anchor" href="#_pausing_animations"></a>Pausing animations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During a demo (or while debugging) one often wants
to pause the action for close examination.
<code>SimpleApplication</code> provides a <code>setSpeed()</code> interface
to alter the global speed of the application.
However, setting the speed to zero
not only pauses animations, cinematics, and physics;
it also freezes camera motion.</p>
</div>
<div class="paragraph">
<p><code>AcorusDemo</code> lays the groundwork so that an application can easily bind a hotkey
that empowers the user to pause animations (and cinematics and physics)
without affecting the built-in <code>FlyByCamera</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void moreDefaultBindings() {
    InputMode dim = getDefaultInputMode();
    dim.bind(asTogglePause, KeyInput.KEY_PAUSE);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scaling_and_centering_a_3_d_model"><a class="anchor" href="#_scaling_and_centering_a_3_d_model"></a>Scaling and centering a 3-D model</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>AcorusDemo</code> provides a static <code>setCgmHeight()</code> method
that scales a 3-D model to a specified height.
The model&#8217;s height is calculated
from the minimal axis-aligned bounding box (AABB) containing its mesh vertices.</p>
</div>
<div class="paragraph">
<p><code>AcorusDemo</code> also provides a static <code>centerCgm()</code> method
that translates a 3-D model
so the center of its base rectangle lies at the world origin.
The base rectangle is calculated
from the minimal AABB containing its mesh vertices.</p>
</div>
<div class="paragraph">
<p>Used together, these methods facilitate display of 3-D models
without needing to know their coordinates and/or dimensions in advance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">setCgmHeight(model, 2f); // Make the model 2 world units tall.
centerCgm(model);        // Position it above the origin.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_selecting_among_values"><a class="anchor" href="#_selecting_among_values"></a>Selecting among values</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In lieu of mouse-driven menu widgets,
<code>AcorusDemo</code> provides a framework for empowering users
to interactively select a value from an array of possible values.</p>
</div>
<div class="paragraph">
<p>The selected value can be displayed in an <code>Overlay</code>
that&#8217;s updated for every frame:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void simpleUpdate(float tpf) {
    super.simpleUpdate(tpf);
    statusOverlay.setText(0, selectedValue);</code></pre>
</div>
</div>
<div class="paragraph">
<p>and hotkeys can be bound to actions that cycle through the possible values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void moreDefaultBindings() {
    InputMode dim = getDefaultInputMode();
    dim.bind("next value", KeyInput.KEY_NUMPAD6);
    dim.bind("previous value", KeyInput.KEY_NUMPAD4);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
public void onAction(String actionString, boolean ongoing, float tpf) {
    if (ongoing) {
        switch (actionString) {
            case "next value":
                // Select the next value in the array.
                selectedValue = advanceString(valueArray, selectedValue, +1);
                composer.setCurrentAction(clipName);
                return;
            case "previous value":
                // Select the previous name in the array.
                selectedValue = advanceString(valueArray, selectedValue, -1);
                composer.setCurrentAction(clipName);
                return;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Analogous with <code>advanceString()</code>,
methods are also provided to select among <code>float</code> and <code>int</code> values.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_library_of_materials"><a class="anchor" href="#_a_library_of_materials"></a>A library of materials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JMonkeyEngine has a built-in mechanism to assign names to materials.
Acorus goes one step further,
implementing a material library that makes it easy to access materials by name.</p>
</div>
<div class="paragraph">
<p>To add a material to the library, invoke the <code>registerMaterial()</code> method.</p>
</div>
<div class="paragraph">
<p>To access a material by name, invoke the <code>findMaterial()</code> method.</p>
</div>
<div class="paragraph">
<p>During startup, Acorus invokes the <code>generateMaterials()</code> method
to initialize the library.
Applications may override this method, if desired.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="toggle.html">Toggle the help node</a></span>
  <span class="next"><a href="sandbox.html">The Sandbox</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Page contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright &copy; 2020&ndash;2024 by Stephen Gold</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
